---
id: 489
title: Robot Room Cleaner
diff: Hard
tags: [DFS]
---

## Approach 1: DFS


```cpp
int di[4] = {-1, 0, 1, 0}, dj[4] = {0, 1, 0, -1};

void cleanRoom(Robot& robot) {
    unordered_set<string> seen;
    solve(robot, 0, 0, 0, seen);
}

void solve(Robot &robot, int i, int j, int cur_dir, 
           unordered_set<string> &seen) {
    robot.clean();
    seen.insert(to_string(i) + ':' + to_string(j));
    for (int k = 0; k < 4; k++) {
        int ci = i + di[cur_dir], cj = j + dj[cur_dir];
        string token = to_string(ci) + ':' + to_string(cj);
        if (seen.find(token) == seen.end() && robot.move()) {
            solve(robot, ci, cj, cur_dir, seen);
            robot.turnRight();
            robot.turnRight();
            robot.move();
            robot.turnRight();
            robot.turnRight();
        }
        cur_dir = (cur_dir + 1) % 4;
        robot.turnRight();
    }
}
```
### Complexity Analysis

* Time complexity: $O(n + e)$

* Space complexity: $O(n + e)$
